# Mochanai_Letters 移动应用界面设计

## 设计理念

Mochanai_Letters 是一款专注于小说创作的移动应用,采用简洁、专业的设计风格,符合 Apple Human Interface Guidelines (HIG) 标准。应用以**竖屏单手操作**为核心设计原则,界面布局清晰,交互流畅,让作者能够专注于创作本身。

## 配色方案

| 颜色名称 | 用途 | 浅色模式 | 深色模式 |
|---------|------|---------|---------|
| Primary | 主题色/强调色 | #7C3AED (紫色) | #A78BFA (淡紫色) |
| Background | 页面背景 | #FFFFFF | #151718 |
| Surface | 卡片/列表项背景 | #F9FAFB | #1E2022 |
| Foreground | 主要文本 | #11181C | #ECEDEE |
| Muted | 次要文本 | #687076 | #9BA1A6 |
| Border | 边框/分割线 | #E5E7EB | #334155 |
| Success | 成功状态 | #22C55E | #4ADE80 |
| Warning | 警告状态 | #F59E0B | #FBBF24 |
| Error | 错误状态 | #EF4444 | #F87171 |

**设计说明**: 选择紫色作为主题色,象征创意和想象力,符合小说创作的文艺气质。

## 屏幕列表

### 1. 小说列表页 (Home)
- **功能**: 展示用户创建的所有小说
- **内容**: 
  - 顶部导航栏: 标题"我的小说" + 设置按钮
  - 小说卡片列表: 封面缩略图、标题、简介、总字数、更新时间
  - 底部浮动按钮: "新建小说" (FAB)
- **交互**: 
  - 点击卡片 → 进入章节列表页
  - 长按卡片 → 弹出操作菜单(编辑、删除)
  - 点击 FAB → 弹出新建小说表单

### 2. 章节列表页 (Chapters)
- **功能**: 展示某部小说的所有章节
- **内容**:
  - 顶部导航栏: 返回按钮 + 小说标题
  - 小说信息卡片: 封面、标题、总字数、章节数
  - 章节列表: 章节序号、标题、字数、更新时间
  - 底部浮动按钮: "新建章节"
- **交互**:
  - 点击章节 → 进入章节详情页(查看/编辑)
  - 点击 FAB → 进入 AI 规划页面

### 3. AI 规划页 (AI Outline)
- **功能**: AI 生成章节框架和思路
- **内容**:
  - 顶部导航栏: 返回按钮 + "AI 章节规划"
  - 章节信息: 第 X 章
  - 加载状态: "AI 正在分析前文,生成章节框架..."
  - 生成结果区域:
    - 章节主题建议
    - 情节发展框架
    - 关键冲突点
    - 人物互动要点
  - 底部操作按钮: "重新生成" + "开始扩写"
- **交互**:
  - 生成结果可编辑
  - 点击"开始扩写" → 进入 AI 扩写页

### 4. AI 扩写页 (AI Expand)
- **功能**: 用户输入大纲,AI 扩写为完整章节
- **内容**:
  - 顶部导航栏: 返回按钮 + "AI 内容扩写"
  - 输入区域: 
    - 章节标题输入框
    - 大纲/主要内容输入框(多行文本)
  - 生成按钮: "生成完整章节"
  - 生成结果区域:
    - 加载状态: "AI 正在扩写,预计需要 30 秒..."
    - 完整章节内容(可滚动查看)
    - 字数统计
  - 底部操作按钮: "重新生成" + "保存章节"
- **交互**:
  - 生成内容可编辑
  - 点击"保存章节" → 保存并返回章节列表

### 5. 章节详情页 (Chapter Detail)
- **功能**: 查看和编辑已保存的章节
- **内容**:
  - 顶部导航栏: 返回按钮 + 章节标题
  - 章节信息: 序号、字数、创建时间
  - 内容编辑器: 多行文本输入框
  - 底部操作按钮: "保存修改" + "删除章节"
- **交互**:
  - 编辑内容后点击"保存修改"
  - 删除章节需二次确认

### 6. 设置页 (Settings)
- **功能**: 配置 AI 模型参数
- **内容**:
  - 顶部导航栏: 返回按钮 + "设置"
  - 配置表单:
    - API Key 输入框(密码类型)
    - Base URL 输入框
    - 模型名称输入框(带预设选项)
    - 文笔风格描述(多行文本)
  - 测试按钮: "测试连接"
  - 保存按钮: "保存配置"
- **交互**:
  - 点击"测试连接" → 验证 API 配置是否可用
  - 点击"保存配置" → 保存并返回

## 核心用户流程

### 流程 1: 创建新小说
```
小说列表页 → 点击 FAB → 填写小说信息(标题、简介) → 保存 → 返回列表
```

### 流程 2: 使用 AI 创作新章节
```
小说列表页 → 点击小说卡片 → 章节列表页 → 点击 FAB
    ↓
AI 规划页(生成章节框架) → 编辑框架 → 点击"开始扩写"
    ↓
AI 扩写页(输入大纲) → 点击"生成完整章节" → 查看生成内容 → 编辑 → 点击"保存章节"
    ↓
自动向量化并存入 RAG → 返回章节列表
```

### 流程 3: 编辑已有章节
```
章节列表页 → 点击章节 → 章节详情页 → 编辑内容 → 保存修改
```

### 流程 4: 配置 AI 模型
```
小说列表页 → 点击设置按钮 → 设置页 → 填写 API 配置 → 测试连接 → 保存配置
```

## 关键 UI 组件

### 1. 小说卡片 (Novel Card)
- **布局**: 横向布局,左侧封面缩略图(80x120),右侧信息区
- **信息区**: 标题(粗体)、简介(2 行省略)、底部元数据(字数、更新时间)
- **样式**: 圆角卡片,带阴影,按压反馈(opacity: 0.7)

### 2. 章节列表项 (Chapter Item)
- **布局**: 横向布局,左侧章节序号圆圈,右侧信息区
- **信息区**: 章节标题(粗体)、字数和时间(小字)
- **样式**: 分割线,按压反馈

### 3. 浮动操作按钮 (FAB)
- **位置**: 右下角,距离底部 80px(避开 Tab Bar)
- **样式**: 圆形,紫色背景,白色加号图标
- **交互**: 按压缩放(scale: 0.95),触觉反馈

### 4. 加载状态 (Loading)
- **样式**: 居中的加载动画 + 提示文字
- **文案**: 根据场景定制(如"AI 正在生成章节框架...")

### 5. 空状态 (Empty State)
- **样式**: 居中的图标 + 提示文字 + 操作按钮
- **场景**: 无小说、无章节时显示

## 交互细节

### 按压反馈
- **主要按钮**: scale: 0.97 + 轻触觉反馈
- **列表项/卡片**: opacity: 0.7
- **图标按钮**: opacity: 0.6

### 页面切换
- **导航动画**: 标准 iOS 推入/弹出动画(duration: 300ms)
- **模态弹窗**: 从底部滑入(duration: 250ms)

### 表单验证
- **实时验证**: 输入框失焦时验证
- **错误提示**: 输入框下方显示红色错误文字

### 加载状态
- **短时操作(<2s)**: 显示加载指示器
- **长时操作(>2s)**: 显示进度文字(如"AI 正在生成...")

## 字体和排版

| 元素 | 字体大小 | 字重 | 行高 |
|------|---------|------|------|
| 页面标题 | 28px | Bold | 1.2 |
| 卡片标题 | 18px | Semibold | 1.3 |
| 正文 | 16px | Regular | 1.5 |
| 次要文本 | 14px | Regular | 1.4 |
| 小字 | 12px | Regular | 1.3 |

## 图标使用

- **导航**: 返回(chevron.left)、设置(gear)
- **操作**: 新建(plus)、编辑(pencil)、删除(trash)、刷新(arrow.clockwise)
- **状态**: 成功(checkmark.circle)、错误(xmark.circle)、警告(exclamationmark.triangle)

## 适配说明

- **安全区域**: 所有页面使用 ScreenContainer 组件处理安全区域
- **键盘遮挡**: 输入框自动滚动到可见区域
- **横屏支持**: 暂不支持,锁定竖屏模式
- **深色模式**: 完全支持,自动切换配色
